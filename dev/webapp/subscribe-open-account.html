<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="renderer" content="webkit">
  <meta name="description" content="">
  <meta name="keywords" content="">
  <title>预约开户</title>
  <link rel="stylesheet" href="../static/style/subscribe-open-account.css">
  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="../static/script/original/html5shiv/html5shiv-min.js"></script>
  <script src="../static/script/original/respondjs/respond-min.js"></script>
  <![endif]-->
  <script src="../static/script/plugins/jquery/jquery.min.js"></script>
</head>

<body>

  <header class="header-open-account">
    <div class="topbar">
      <div class="container clearfix">
        <div class="bar-left">
          <a href="javascript:void(0);" class="btn-mall">金融商城</a>
          <a href="javascript:void(0);" class="btn-download">软件下载</a>
        </div>

        <div class="bar-right">
          <div class="user clearfix">
            <p>上午好，王XX</p>
            <a href="javascript:void(0);" class="logout">退出</a>
          </div>
          <a href="javascript:void(0);" class="weibo"></a>
          <a href="javascript:void(0);" class="shenmegui"></a>
          <a href="javascript:void(0);" class="wechat">
            <div class=""></div>
          </a>
        </div>
      </div>
    </div>

    <div class="navbar">
      <div class="container clearfix">
        <a href="javascript:void(0);" class="logo"></a>

        <nav class="nav">
          <ul class="clearfix">
            <li><a href="javascript:void(0);">首页</a></li>
            <li class="active"><a href="javascript:void(0);">开户</a></li>
            <li><a href="javascript:void(0);">理财</a></li>
            <li><a href="javascript:void(0);">商城</a></li>
            <li><a href="javascript:void(0);">培训</a></li>
            <li><a href="javascript:void(0);">技术服务</a></li>
          </ul>
        </nav>

        <div class="tel"></div>
      </div>
    </div>
  </header>

  <div class="mainContainer">

    <div class="titleContent container">
    </div>

    <div class="container">
      <div class="mainContainerPad">
        <div class="apply">
          <div class="title">
            <div class="bigTitle">快速预约</div>
            <div class="smallTitle">30秒闪电预约 客户经理24小时内与您确定开户时间</div>
          </div>
          <div class="progress">
            <div class="title">
              预约开户申请
            </div>
            <div class="title currentProgress">
              输入申请信息
            </div>
            <div class="title">
              开户申请完成
            </div>
            <div class="title">
              等待开户通知
            </div>
          </div>
          <div class="subscribeDate">
            预约时间：24小时 现场确认时间：交易日 08:30~17:00
          </div>
          <div class="type">
            <div class="title">申请账号类型</div>
            <div class="buttons">
              <input id="accountTypeBtnA" type="button" name="name" value="期货开户" class="active">
              <input id="accountTypeBtnB" type="button" name="name" value="期权开户">
              <input id="accountTypeBtnC" type="button" name="name" value="期权开户预约">
              <input id="accountTypeBtnD" type="button" name="name" value="境外投资开户预约">
            </div>
          </div>
          <div class="inputPad">
            <div class="alert">
              <span>以下所有项为必填</span>
            </div>
            <div class="inputItem">
              <span class="title">姓名：</span>
              <input type="text" id="nameInput" name="name" value="">
              <span class="info" id="nameInfo">请输入2到4个中文字符</span>
            </div>
            <div class="inputItem">
              <span class="title">身份证号：</span>
              <input type="text" id="idCardInput" name="name" value="">
              <span class="info" id="idCardInfo">请输入正确的身份证号码</span>
            </div>
            <div class="inputItem">
              <span class="title">手机号：</span>
              <input type="text" id="phoneNumberInput" name="name" value="">
              <span class="info" id="phoneNumberInfo">请正确填写，否则将影响申请！</span>
            </div>
            <div class="inputItem">
              <span class="title">验证码：</span>
              <input type="text" id="verifyCodeInput" name="name" value="">
              <button type="submit" id="getVerifyCodeBtn" class="active" name="获取验证码"></button>
              <span class="info" id="verifyCodeInfo">请填写验证码</span>
            </div>
            <div class="inputItem">
              <span class="title">电子邮箱：</span>
              <input type="email" id="emailInput" name="name" value="">
              <span class="info" id="emailInfo">请准确填写以便收到最新资讯！</span>
            </div>
            <div class="inputItem" id="selectDepartment">
              <span class="title">拟开户营业部：</span>
              <input type="text" class="cityinput" id="citySelect" placeholder="请选择城市">
              <select class="" name=""></select>
              <span class="info" id="">请选择开户营业部</span>
            </div>
          </div>
          <div class="confirmPad">
            <div class="alreadyRead">
              <input type="checkbox" name="name" value="">
              <span>我已阅读</span>
              <a href="">客户须知</a>
              <span>和</span>
              <a href="">风险提示</a>
            </div>
            <button type="submit" name="确认无误，提交"></button>
          </div>
          <div class="more-service">
            <div class="bigTitle">
              更多服务
            </div>
            <div class="items">
              <div class="serviceItem">
                <div class="hover"></div>
                <a href="">营业网点查询</a>
              </div>
              <div class="serviceItem">
                <div class="hover"></div>
                <a href="">期货知识介绍</a>
              </div>
              <div class="serviceItem">
                <div class="hover"></div>
                <a href="">期货软件下载</a>
              </div>
              <div class="serviceItem">
                <div class="hover"></div>
                <a href="">股票软件下载</a>
              </div>
            </div>
          </div>
        </div>
        <div class="right">
          <div class="open-account-help">
            <div class="title">
              <div class="bigTitle">
                开户帮助
              </div>
            </div>
            <ul>
              <li><a href="">什么是网上开户？</a></li>
              <li><a href="">网上开户前要做哪些准备？</a></li>
              <li><a href="">什么是资金帐户？</a></li>
              <li><a href="">网上开户怎么咨询？</a></li>
              <li><a href="">什么是预约开户？</a></li>
              <li><a href="">金融期货开户的条件是什么？</a></li>
              <li><a href="">期货账户可对应哪些银行？</a></li>
              <li><a href="">期货开户需要准备哪些材料？</a></li>
              <li><a href="">期货开户办理时间是什么？</a></li>
              <li><a href="">可以开户营业网点有哪些？</a></li>
            </ul>
            <div class="moreQuestion">
              <a href="">更多问题&gt;&gt;</a>
            </div>
          </div>
          <div class="subscribeOpenAccountDetail">

            <div class="title">
              <div class="bigTitle">
                预约开户
              </div>
            </div>

            <p>
              在线完成开户需要填写的所有资料，<br/>
              营业部只需现场确认及签字 ，<br/>
              为您节省宝贵的时间。<br/>
            </p>

            <p>
              <span>预约时间：</span> <img src="../static/image/24_hours_24H_48px.png" alt="" /> <span>小时</span>
            </p>

            <p>
              现场确认时间：<span>交易日8：30～17：00</span>
            </p>

          </div>
          <div class="wechatSubscribe">
            <div class="title">
              <div class="bigTitle">
                微信预约
              </div>
            </div>
            <p>
              闪电预约，快速开户
            </p>
            <img class="wechatQRCode" src="../static/image/simulate_finish_qrcode.png" alt="" />
            <p>
              扫一扫，预约开户
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="clearfix box-1">
        <a href="javascript:void(0);" class="btn-web">国泰君安期货官网</a>
        <a href="javascript:void(0);" class="btn-help">帮助中心</a>
        <p class="tel">联系我们：</p>
      </div>
      <div class="clearfix box-2">
        <p class="copy">版权所有&copy; 2014 国泰君安期货有限公司&nbsp;&nbsp;沪ICP备06059277号</p>
        <p class="industry">上海工商</p>
        <p class="licence">营业执照</p>
      </div>

      <div class="wechat wechat-1">微信订阅号</div>
      <div class="wechat wechat-2">微信服务号</div>
    </div>
  </footer>

  <link rel="stylesheet" href="../static/script/plugins/citySelect/cityselect.css">
  <script type="text/javascript" src="../static/script/plugins/citySelect/cityselect.js"></script>
  <script type="text/javascript">
    var selectDepartment = $('#selectDepartment').find('select')
    var test = new Vcity.CitySelector({
      input: 'citySelect'
    });

    // TODO: 需要自行实现
    function setOptionsByCityName(cityName) {
      selectDepartment.find('option').remove()
      for (var i = 0; i < 5; i++) {
        selectDepartment.append($('<option>', {value:i, text:'营业部名称'}));
      }
    }

    Vcity._m.clickCallBack = function(cityName) {
      setOptionsByCityName(cityName)
    }
  </script>

  <script type="text/javascript" src="../static/script/plugins/cxselect/jquery.cxselect.min.js"></script>
  <script type="text/javascript">
    //  需按固定格式修改 json 内容
    //  http://code.ciaoca.com/jquery/cxSelect/

    $('#custom_data_department').cxSelect({
      url: "../static/script/plugins/jquery/cityAddress.json",
      selects: ['first', 'second', 'third'],
      jsonName: 'n',
      jsonValue: 'v',
      jsonSub: 's',
    })

    var accountTypeBtnA = $('#accountTypeBtnA')
    var accountTypeBtnB = $('#accountTypeBtnB')
    var accountTypeBtnC = $('#accountTypeBtnC')
    var accountTypeBtnD = $('#accountTypeBtnD')

    var btns = [
      accountTypeBtnA,
      accountTypeBtnB,
      accountTypeBtnC,
      accountTypeBtnD
    ]

    btns.forEach(function(elem) {
      elem.click(function(event) {
        elem.addClass('active')
        btns.forEach(function(_elem) {
          if (_elem != elem) {
            _elem.removeClass('active')
          }
        })
      })
    })

    //  TODO: 验证码按钮的实现
    var getVerifyCodeBtn = $('#getVerifyCodeBtn')

    var sleep_length = 30;
    var sleep_count = sleep_length;
    var interval = null;
    getVerifyCodeBtn.click(function() {

      getVerifyCodeBtn.removeClass('active')
      getVerifyCodeBtn.addClass('sent')
      getVerifyCodeBtn.text(sleep_count-- + "秒");

      interval = setInterval(function() {
        if (sleep_count == 0) {
          if (!!interval) {
            clearInterval(interval);
            interval = null;
            sleep_count = sleep_length;
            getVerifyCodeBtn.attr({
              'disabled': false
            });
            getVerifyCodeBtn.addClass('active')
            getVerifyCodeBtn.removeClass('sent')
          }
          return false
        }
        getVerifyCodeBtn.text(sleep_count-- + "秒");
      }, 1000);

    })

    function bindingValidate(input, info, regex) {
      input.on('blur', function() {
        var text = input.val()
        if (text.match(regex)) {
          info.removeClass('inputWarn')
        } else {
          info.addClass('inputWarn')
        }
      })
    }

    bindingValidate(
      $('#nameInput'),
      $('#nameInfo'),
      /^[\u4e00-\u9fa5]{2,4}$/
    )

    bindingValidate(
      $('#idCardInput'),
      $('#idCardInfo'),
      /\d{17}[\d|x]|\d{15}/
    )

    bindingValidate(
      $('#phoneNumberInput'),
      $('#phoneNumberInfo'),
      /^(((1[3456789][0-9]{1})|(15[0-9]{1}))+\d{8})$/
    )

    //  4 位字母数字验证码
    bindingValidate(
      $('#verifyCodeInput'),
      $('#verifyCodeInfo'),
      /[0-9A-Za-z]{4}$/
    )

    bindingValidate(
      $('#emailInput'),
      $('#emailInfo'),
      /\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/
    )
  </script>

</body>

</html>
