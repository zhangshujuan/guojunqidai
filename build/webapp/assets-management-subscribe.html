<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="renderer" content="webkit">
  <meta name="description" content="">
  <meta name="keywords" content="">
  <title>资管产品预约</title>
  <link rel="stylesheet" href="../static/style/assets-management-subscribe.css">
  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="../static/script/original/html5shiv/html5shiv-min.js"></script>
  <script src="../static/script/original/respondjs/respond-min.js"></script>
  <![endif]-->
  <script src="../static/script/plugins/jquery/jquery.min.js"></script>
</head>

<body>

  <header class="header-open-account">
    <div class="topbar">
      <div class="container clearfix">
        <div class="bar-left">
          <a href="javascript:void(0);" class="btn-mall">金融商城</a>
          <a href="javascript:void(0);" class="btn-download">软件下载</a>
        </div>

        <div class="bar-right">
          <div class="user clearfix">
            <p>上午好，王XX</p>
            <a href="javascript:void(0);" class="logout">退出</a>
          </div>
          <a href="javascript:void(0);" class="weibo"></a>
          <a href="javascript:void(0);" class="shenmegui"></a>
          <a href="javascript:void(0);" class="wechat">
            <div class=""></div>
          </a>
        </div>
      </div>
    </div>

    <div class="navbar">
      <div class="container clearfix">
        <a href="javascript:void(0);" class="logo"></a>

        <nav class="nav">
          <ul class="clearfix">
            <li><a href="javascript:void(0);">首页</a></li>
            <li class="active"><a href="javascript:void(0);">开户</a></li>
            <li><a href="javascript:void(0);">理财</a></li>
            <li><a href="javascript:void(0);">商城</a></li>
            <li><a href="javascript:void(0);">培训</a></li>
            <li><a href="javascript:void(0);">技术服务</a></li>
          </ul>
        </nav>

        <div class="tel"></div>
      </div>
    </div>
  </header>

  <div class="mainContainer">

    <div class="titleContent container">
    </div>

    <div class="container">
      <div class="mainContainerPad">
        <div class="apply">
          <div class="title">
            <div class="bigTitle">资管产品预约</div>
          </div>
          <div class="progress">
            <div class="title currentProgress">
              输入信息
            </div>
            <div class="title">
              完成申请
            </div>
          </div>
          <div class="inputPad">
            <div class="alert">
              <span>以下所有项为必填</span>
            </div>
            <div class="inputItem">
              <span class="title">预约产品名称：</span>
              <input type="text" id="productNameInput" name="name" value="">
              <span class="info" id="productNameInfo">请正确填写产品名称</span>
            </div>
            <div class="inputItem">
              <span class="title">预约人姓名：</span>
              <input type="text" id="nameInput" name="name" value="">
              <span class="info" id="nameInfo">请填写预约人姓名</span>
            </div>
            <div class="inputItem">
              <span class="title">手机号：</span>
              <input type="text" id="phoneNumberInput" name="name" value="">
              <span class="info" id="phoneNumberInfo">请正确填写，否则将影响申请！</span>
            </div>
            <div class="inputItem">
              <span class="title">验证码：</span>
              <input type="text" id="verifyCodeInput" name="name" value="">
              <button type="submit" id="getVerifyCodeBtn" class="active" name="获取验证码"></button>
              <span class="info" id="verifyCodeInfo">请填写验证码</span>
            </div>
            <div class="inputItem">
              <span class="title">所在地区：</span>
              <div class="muti-select">
                <fieldset id="custom_data_address">
                  <label>
                    <select id="province" class="first select"><option value="">请选择</option><option value="2">北京</option><option value="24">上海</option><option value="30">浙江</option><option value="16">江苏</option><option value="1">安徽</option><option value="6">广东</option><option value="7">广西</option><option value="9">海南</option><option value="23">山东</option><option value="4">福建</option><option value="26">天津</option><option value="13">湖北</option><option value="14">湖南</option><option value="25">四川</option><option value="3">重庆</option><option value="20">宁夏</option><option value="17">江西</option><option value="18">吉林</option><option value="19">辽宁</option><option value="11">黑龙江</option><option value="10">河北</option><option value="12">河南</option><option value="22">山西</option><option value="31">陕西</option><option value="29">云南</option><option value="8">贵州</option><option value="27">西藏</option><option value="5">甘肃</option><option value="21">青海</option><option value="28">新疆</option><option value="15">内蒙古</option><option value="32">台湾</option><option value="33">香港</option><option value="34">澳门</option><option value="35">海外</option></select>
                  </label>
                  <label>
                    <select id="city" class="second select" disabled=""></select>
                  </label>
                  <label>
                    <select id="region" class="third select" disabled=""></select>
                  </label>
                </fieldset>
              </div>
              <span class="info" id=""></span>
            </div>
          </div>
          <div class="confirmPad">
            <button type="submit" name="确认无误，提交"></button>
          </div>
        </div>
        <div class="right">

          <div class="investImmediately">

            <div class="title">
              <div class="bigTitle">
                立即投资
              </div>
            </div>

            <div class="items">

              <div class="serviceItem">
                <div class="hover"></div>
                <a href="">营业网点查询</a>
              </div>
              <div class="serviceItem">
                <div class="hover"></div>
                <a href="">体验综合金融服务</a>
              </div>
              <div class="serviceItem">
                <div class="hover"></div>
                <a href="">期货软件下载</a>
              </div>
              <div class="serviceItem">
                <div class="hover"></div>
                <a href="">股票软件下载</a>
              </div>
              <div class="serviceItem">
                <div class="hover"></div>
                <a href="">股票软件下载</a>
              </div>
            </div>
          </div>

          <div class="more-service">

            <div class="title">
              <div class="bigTitle">
                更多服务
              </div>
            </div>

            <div class="items">

              <div class="serviceItem">
                <div class="hover"></div>
                <a href="">营业网点查询</a>
              </div>
              <div class="serviceItem">
                <div class="hover"></div>
                <a href="">期货知识介绍</a>
              </div>
              <div class="serviceItem">
                <div class="hover"></div>
                <a href="">期货软件下载</a>
              </div>
              <div class="serviceItem">
                <div class="hover"></div>
                <a href="">股票软件下载</a>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="clearfix box-1">
        <a href="javascript:void(0);" class="btn-web">国泰君安期货官网</a>
        <a href="javascript:void(0);" class="btn-help">帮助中心</a>
        <p class="tel">联系我们：</p>
      </div>
      <div class="clearfix box-2">
        <p class="copy">版权所有&copy; 2014 国泰君安期货有限公司&nbsp;&nbsp;沪ICP备06059277号</p>
        <p class="industry">上海工商</p>
        <p class="licence">营业执照</p>
      </div>

      <div class="wechat wechat-1">微信订阅号</div>
      <div class="wechat wechat-2">微信服务号</div>
    </div>
  </footer>

  <script type="text/javascript" src="../static/script/plugins/cxselect/jquery.cxselect.min.js"></script>
  <script type="text/javascript">
    //  需按固定格式修改 json 内容
    //  http://code.ciaoca.com/jquery/cxSelect/

    $('#custom_data_department').cxSelect({
      url: "../static/script/plugins/jquery/cityAddress.json",
      selects: ['first', 'second', 'third'],
      jsonName: 'n',
      jsonValue: 'v',
      jsonSub: 's',
    })

    var getVerifyCodeBtn = $('#getVerifyCodeBtn')
    var sleep_length = 30;
    var sleep_count = sleep_length;
    var interval = null;
    getVerifyCodeBtn.click(function() {

      //  TODO: ajax

      getVerifyCodeBtn.removeClass('active')
      getVerifyCodeBtn.addClass('sent')
      getVerifyCodeBtn.text(sleep_count-- + "秒");

      interval = setInterval(function() {
        if (sleep_count == 0) {
          if (!!interval) {
            clearInterval(interval);
            interval = null;
            sleep_count = sleep_length;
            getVerifyCodeBtn.attr({
              'disabled': false
            });
            getVerifyCodeBtn.addClass('active')
            getVerifyCodeBtn.removeClass('sent')
          }
          return false
        }
        getVerifyCodeBtn.text(sleep_count-- + "秒");
      }, 1000);

    })

    function bindingValidate(input, info, regex) {
      input.on('blur', function() {
        var text = input.val()
        if (text.match(regex)) {
          info.removeClass('inputWarn')
        } else {
          info.addClass('inputWarn')
        }
      })
    }

    // TODO: regex
    bindingValidate(
      $('#productNameInput'),
      $('#productNameInfo'),
      /^[0-9A-Za-z\u4e00-\u9fa5]{1,}$/
    )

    bindingValidate(
      $('#nameInput'),
      $('#nameInfo'),
      /^[\u4e00-\u9fa5]{2,4}$/
    )

    bindingValidate(
      $('#phoneNumberInput'),
      $('#phoneNumberInfo'),
      /^(((1[3456789][0-9]{1})|(15[0-9]{1}))+\d{8})$/
    )

    //  4 位字母数字验证码
    bindingValidate(
      $('#verifyCodeInput'),
      $('#verifyCodeInfo'),
      /[0-9A-Za-z]{4}$/
    )
  </script>

</body>

</html>
