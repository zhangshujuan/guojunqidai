/**
 * @author 
 * @email 
 * @descrip guojunqidai
 * @version v1.0.0
 */
var Vcity={};Vcity._m={clickCallBack:function(i){},$:function(i,t){var e,n,h,a=[],c=i.substring(1);if(t=t||document,"string"==typeof i)switch(i.charAt(0)){case"#":return document.getElementById(c);case".":if(t.getElementsByClassName)return t.getElementsByClassName(c);for(e=Vcity._m.$("*",t),n=e.length,h=0;h<n;h++)e[h].className.indexOf(c)>-1&&a.push(e[h]);return a;default:return t.getElementsByTagName(i)}},on:function(i,t,e){i.addEventListener?i.addEventListener(t,e,!1):i.attachEvent("on"+t,e)},getEvent:function(i){return i||window.event},getTarget:function(i){return i.target||i.srcElement},getPos:function(i){var t=document.documentElement.scrollLeft||document.body.scrollLeft,e=document.documentElement.scrollTop||document.body.scrollTop,n=i.getBoundingClientRect();return{top:n.top+e,right:n.right+t,bottom:n.bottom+e,left:n.left+t}},addClass:function(i,t){t&&(t.className=Vcity._m.hasClass(i,t)?t.className:t.className+" "+i)},removeClass:function(i,t){var e=new RegExp("(^|\\s+)"+i+"(\\s+|$)","g");Vcity._m.hasClass(i,t)&&(t.className=e.test(t.className)?t.className.replace(e,""):t.className)},hasClass:function(i,t){return!(!t||!t.className)&&t.className.indexOf(i)>-1},stopPropagation:function(i){i=i||window.event,i.stopPropagation?i.stopPropagation():i.cancelBubble=!0},trim:function(i){return i.replace(/^\s+|\s+$/g,"")}},Vcity.allCity=["北京市|Beijing Shi|BJS|2","长春市|Changchun Shi |CCS|85","大连市|Dalian Shi|DLS|72","广州市|Guangzhou Shi|GZS|232","杭州市|Hangzhou Shi|HZS|122","南京市|Nanjing Shi|NJS|109","宁波市|Ningbo Shi|NBS|123","青岛市|Qingdao Shi|QDS|171","上海市|Shanghai Shi|SHS|10","深圳市|Shenzhen Shi|SZS|234","天津市|Tianjin Shi|TJS|3","武汉市|Wuhan Shi|WHS|204","郑州市|Zhengzhou Shi|ZZS|187","安庆市|Anqing Shi|AQS|140","鞍山市|AnShan Shi|ASS|73","包头市|Baotou Shi |BTS|60","沧州市|Cangzhou Shi|CZS|45","常德市|Changde Shi|CDS|224","长沙市|Changsha Shi|CSS|218","常州市|Changzhou Shi|CZS|112","成都市|Chengdu Shi|CDS|273","郴州市|Chenzhou Shi|CZS|227","赤峰市|Chifeng (Ulanhad)Shi|CFS|62","儋州市|Danzhou Shi|ZZS|2578","德宏傣族景颇族自治州|Dehong Daizu Jingpozu Zizhizhou|DHDZJPZZZZ|316","东莞市|Dongguan Shi|DZS|248","敦煌市|Dunhuang Shi|DHS|3307","鄂尔多斯市|Eerduosi Shi|EEDSS|64","佛山市|Foshan Shi|FSS|237","福州市|Fuzhou Shi|FZS|150","赣州市|Ganzhou Shi|GZS|165","桂林市|Guilin Shi|GLS|255","贵阳市|Guiyang Shi|GYS|294","海口市|Haikou Shi|HKS|267","邯郸市|Handan Shi|HDS|40","哈尔滨市|Harbin Shi|HEBS|94","河池市|Hechi Shi|HCS|264","合肥市|Hefei Shi|HFS|133","衡阳市|Hengyang Shi|HYS|221","呼和浩特市|Hohhot Shi|HHHTS|59","红河哈尼族彝族自治州|Honghe Hanizu Yizu Zizhizhou|HHHNZYZZZZ|312","桦甸市|Huadian Shi|ZDS|968","嘉兴市|Jiaxing Shi|JXS|125","嘉峪关市|Jiayuguan Shi|JYGS|337","吉林市|Jilin Shi |JLS|86","济南市|Jinan Shi|JNS|170","晋城市|Jincheng Shi |JCS|52","荆州市|Jingzhou Shi|JZS|212","金华市|Jinhua Shi|JHS|128","济宁市|Jining Shi|JNS|177","九江市|Jiujiang Shi|JJS|162","酒泉市|Jiuquan Shi|JQS|344","济源市|Jiyuan Shi|JYS|1971","昆明市|Kunming Shi|KMS|303","兰州市|Lanzhou Shi|LZS|336","丽江市|Lijiang Shi|LJS|308","临沂市|Linyi Shi|LYS|182","龙岩市|Longyan Shi|LYS|157","洛阳市|Luoyang Shi|LYS|189","泸州市|Luzhou Shi|ZZS|276","吕梁市|Lvliang Shi|LLS|58","梅州市|Meizhou Shi|MZS|243","南昌市|Nanchang Shi|NCS|159","南宁市|Nanning Shi|NNS|253","平顶山市|Pingdingshan Shi|PDSS|190","萍乡市|Pingxiang Shi|PXS|161","琼海市|Qionghai Shi|QHS|2577","齐齐哈尔市|Qiqihar Shi|QQHES|95","泉州市|Quanzhou Shi|QZS|154","衢州市|Quzhou Shi|ZZS|129","三明市|Sanming Shi|SMS|153","汕头市|Shantou Shi|STS|236","绍兴市|Shaoxing Shi|SXS|127","邵阳市|Shaoyang Shi|SYS|222","沈阳市|Shenyang Shi|SYS|71","石家庄市|Shijiazhuang Shi|SJZS|37","四平市|Siping Shi|SPS|87","太原市|Taiyuan Shi|TYS|48","台州市|Taizhou Shi|TZS|131","唐山市|Tangshan Shi|TSS|38","天水市|Tianshui Shi|TSS|340","乌鲁木齐市|Urumqi Shi|WLMQS|363","潍坊市|Weifang Shi|WFS|176","文山壮族苗族自治州|Wenshan Zhuangzu Miaozu Zizhizhou|WSZZMZZZZ|313","温州市|Wenzhou Shi|WZS|124","无锡市|Wuxi Shi|WXS|110","抚州市|Wuzhou Shi|FZS|168","西安市|Xi,an Shi|XAS|326","厦门市|Xiamen Shi|XMS|151","襄樊市|Xiangfan Shi|XFS|208","湘潭市|Xiangtan Shi|XTS|220","咸阳市|Xianyang Shi|XYS|329","荥阳市|Xingyang Shi|ZYS|1891","徐州市|Xuzhou Shi|XZS|111","雅安市|Ya,an Shi|YAS|288","延吉市|Yanji Shi|YJS|1010","宜昌市|Yichang Shi|YCS|207","宜春市|Yichun Shi|YCS|167","银川市|Yinchuan Shi|YCS|358","鹰潭市|Yingtan Shi|YTS|164","张掖市|Zhangye Shi|ZYS|342","漳州市|Zhangzhou Shi|ZZS|155","中山市|Zhongshan Shi|ZSS|249","株洲市|Zhuzhou Shi|ZZS|219","遵义市|Zunyi Shi|ZYS|296"],Vcity.cityIDDic=[],Vcity.regEx=/^([\u4E00-\u9FA5\uf900-\ufa2d]+)\|([A-z (),]+)\|([A-z])[A-z]+\|([0-9]+)$/i,Vcity.regExChiese=/([\u4E00-\u9FA5\uf900-\ufa2d]+)/,function(){var i,t,e=Vcity.allCity,n=Vcity.regEx,h=/^[a-b]$/i,a=/^[c-d]$/i,c=/^[e-g]$/i,o=/^[h]$/i,s=/^[j]$/i,y=/^[k-l]$/i,l=/^[m-p]$/i,S=/^[q-r]$/i,u=/^[s]$/i,r=/^[t]$/i,m=/^[w]$/i,C=/^[x]$/i,d=/^[y]$/i,V=/^[z]$/i;if(!Vcity.oCity){Vcity.oCity={hot:{},AB:{},CD:{},EFG:{},H:{},J:{},KL:{},MNP:{},QR:{},S:{},T:{},W:{},X:{},Y:{},Z:{}};for(var g=0,p=e.length;g<p;g++)i=n.exec(e[g]),Vcity.cityIDDic[i[1]]=i[4],t=i[3].toUpperCase(),h.test(t)?(Vcity.oCity.AB[t]||(Vcity.oCity.AB[t]=[]),Vcity.oCity.AB[t].push(i[1])):a.test(t)?(Vcity.oCity.CD[t]||(Vcity.oCity.CD[t]=[]),Vcity.oCity.CD[t].push(i[1])):c.test(t)?(Vcity.oCity.EFG[t]||(Vcity.oCity.EFG[t]=[]),Vcity.oCity.EFG[t].push(i[1])):o.test(t)?(Vcity.oCity.H[t]||(Vcity.oCity.H[t]=[]),Vcity.oCity.H[t].push(i[1])):s.test(t)?(Vcity.oCity.J[t]||(Vcity.oCity.J[t]=[]),Vcity.oCity.J[t].push(i[1])):y.test(t)?(Vcity.oCity.KL[t]||(Vcity.oCity.KL[t]=[]),Vcity.oCity.KL[t].push(i[1])):l.test(t)?(Vcity.oCity.MNP[t]||(Vcity.oCity.MNP[t]=[]),Vcity.oCity.MNP[t].push(i[1])):S.test(t)?(Vcity.oCity.QR[t]||(Vcity.oCity.QR[t]=[]),Vcity.oCity.QR[t].push(i[1])):u.test(t)?(Vcity.oCity.S[t]||(Vcity.oCity.S[t]=[]),Vcity.oCity.S[t].push(i[1])):r.test(t)?(Vcity.oCity.T[t]||(Vcity.oCity.T[t]=[]),Vcity.oCity.T[t].push(i[1])):m.test(t)?(Vcity.oCity.W[t]||(Vcity.oCity.W[t]=[]),Vcity.oCity.W[t].push(i[1])):C.test(t)?(Vcity.oCity.X[t]||(Vcity.oCity.X[t]=[]),Vcity.oCity.X[t].push(i[1])):d.test(t)?(Vcity.oCity.Y[t]||(Vcity.oCity.Y[t]=[]),Vcity.oCity.Y[t].push(i[1])):V.test(t)&&(Vcity.oCity.Z[t]||(Vcity.oCity.Z[t]=[]),Vcity.oCity.Z[t].push(i[1])),g<28&&(Vcity.oCity.hot.hot||(Vcity.oCity.hot.hot=[]),Vcity.oCity.hot.hot.push(i[1]))}}(),Vcity._template=['<p class="tip">直接输入可搜索城市(支持汉字/拼音)</p>',"<ul>",'<li class="on">热门城市</li>',"<li>AB</li>","<li>CD</li>","<li>EFG</li>","<li>H</li>","<li>J</li>","<li>KL</li>","<li>MNP</li>","<li>QR</li>","<li>S</li>","<li>T</li>","<li>W</li>","<li>X</li>","<li>Y</li>","<li>Z</li>","</ul>"],Vcity.CitySelector=function(){this.initialize.apply(this,arguments)},Vcity.CitySelector.prototype={constructor:Vcity.CitySelector,initialize:function(i){var t=i.input;this.input=Vcity._m.$("#"+t),this.inputEvent()},createWarp:function(){var i=Vcity._m.getPos(this.input),t=this.rootDiv=document.createElement("div"),e=this;Vcity._m.on(this.rootDiv,"click",function(i){Vcity._m.stopPropagation(i)}),Vcity._m.on(document,"click",function(i){i=Vcity._m.getEvent(i);var t=Vcity._m.getTarget(i);return t!=e.input&&(e.cityBox&&Vcity._m.addClass("hide",e.cityBox),e.ul&&Vcity._m.addClass("hide",e.ul),void(e.myIframe&&Vcity._m.addClass("hide",e.myIframe)))}),t.className="citySelector",t.style.position="absolute",t.style.left=i.left+"px",t.style.top=i.bottom+5+"px",t.style.zIndex=999999;var n=!!document.all,h=this.isIE6=n&&!window.XMLHttpRequest;if(h){var a=this.myIframe=document.createElement("iframe");a.frameborder="0",a.src="about:blank",a.style.position="absolute",a.style.zIndex="-1",this.rootDiv.appendChild(this.myIframe)}var c=this.cityBox=document.createElement("div");c.className="cityBox",c.id="cityBox",c.innerHTML=Vcity._template.join("");var o=this.hotCity=document.createElement("div");o.className="hotCity",c.appendChild(o),t.appendChild(c),this.createHotCity()},createHotCity:function(){var i,t,e,n,h,a,c,o,s=[],y=(Vcity.regEx,Vcity.oCity);for(a in y){i=this[a]=document.createElement("div"),i.className=a+" cityTab hide",o=[];for(c in y[a])o.push(c),o.sort();for(var l=0,S=o.length;l<S;l++){t=document.createElement("dl"),e=document.createElement("dt"),n=document.createElement("dd"),e.innerHTML="hot"==o[l]?"&nbsp;":o[l],s=[];for(var u=0,r=y[a][o[l]].length;u<r;u++)h='<a href="javascript:void(0);">'+y[a][o[l]][u]+"</a>",s.push(h);n.innerHTML=s.join(""),t.appendChild(e),t.appendChild(n),i.appendChild(t)}Vcity._m.removeClass("hide",this.hot),this.hotCity.appendChild(i)}document.body.appendChild(this.rootDiv),this.changeIframe(),this.tabChange(),this.linkEvent()},tabChange:function(){for(var i=Vcity._m.$("li",this.cityBox),t=Vcity._m.$("div",this.hotCity),e=this,n=0,h=i.length;n<h;n++)i[n].index=n,i[n].onclick=function(){for(var n=0;n<h;n++)Vcity._m.removeClass("on",i[n]),Vcity._m.addClass("hide",t[n]);Vcity._m.addClass("on",this),Vcity._m.removeClass("hide",t[this.index]),e.changeIframe()}},linkEvent:function(){for(var i=Vcity._m.$("a",this.hotCity),t=this,e=0,n=i.length;e<n;e++)i[e].onclick=function(){t.input.value=this.innerHTML,Vcity._m.addClass("hide",t.cityBox),Vcity._m.addClass("hide",t.myIframe),Vcity._m.clickCallBack(Vcity.cityIDDic[this.innerHTML])}},getCityIDByCityName:function(){Vcity.citys},inputEvent:function(){var i=this;Vcity._m.on(this.input,"click",function(t){t=t||window.event,i.cityBox?i.cityBox&&Vcity._m.hasClass("hide",i.cityBox)&&(!i.ul||i.ul&&Vcity._m.hasClass("hide",i.ul))&&(Vcity._m.removeClass("hide",i.cityBox),Vcity._m.removeClass("hide",i.myIframe),i.changeIframe()):i.createWarp()}),Vcity._m.on(this.input,"blur",function(){var t=Vcity._m.trim(i.input.value);if(""!=t){for(var e=new RegExp("^"+t+"|\\|"+t,"gi"),n=0,h=0,a=Vcity.allCity.length;h<a;h++)e.test(Vcity.allCity[h])&&n++;if(0==n)i.input.value="";else{var c=Vcity._m.$("li",i.ul);if("object"==typeof c&&c.length>0){var o=c[0],s=o.children;s&&s.length>1&&(i.input.value=s[0].innerHTML)}else i.input.value=""}}}),Vcity._m.on(this.input,"keyup",function(t){t=t||window.event;var e=t.keyCode;Vcity._m.addClass("hide",i.cityBox),i.createUl(),Vcity._m.removeClass("hide",i.myIframe),!i.ul||Vcity._m.hasClass("hide",i.ul)||i.isEmpty||i.KeyboardEvent(t,e)})},createUl:function(){var i,t=Vcity._m.trim(this.input.value);if(""!==t){for(var e=new RegExp("^"+t+"|\\|"+t,"gi"),n=[],h=0,a=Vcity.allCity.length;h<a;h++)if(e.test(Vcity.allCity[h])){var c=Vcity.regEx.exec(Vcity.allCity[h]);i=0!==n.length?'<li><b class="cityname">'+c[1]+'</b><b class="cityspell">'+c[2]+"</b></li>":'<li class="on"><b class="cityname">'+c[1]+'</b><b class="cityspell">'+c[2]+"</b></li>",n.push(i)}if(this.isEmpty=!1,0==n.length&&(this.isEmpty=!0,i='<li class="empty">对不起，没有找到 "<em>'+t+'</em>"</li>',n.push(i)),this.ul)this.ul&&Vcity._m.hasClass("hide",this.ul)&&(this.count=0,Vcity._m.removeClass("hide",this.ul));else{var o=this.ul=document.createElement("ul");o.className="cityslide mCustomScrollbar",this.rootDiv&&this.rootDiv.appendChild(o),this.count=0}this.ul.innerHTML=n.join(""),this.changeIframe(),this.liEvent()}else Vcity._m.addClass("hide",this.ul),Vcity._m.removeClass("hide",this.cityBox),Vcity._m.removeClass("hide",this.myIframe),this.changeIframe()},changeIframe:function(){this.isIE6&&(this.myIframe.style.width=this.rootDiv.offsetWidth+"px",this.myIframe.style.height=this.rootDiv.offsetHeight+"px")},KeyboardEvent:function(i,t){var e=Vcity._m.$("li",this.ul),n=e.length;switch(t){case 40:this.count++,this.count>n-1&&(this.count=0);for(var h=0;h<n;h++)Vcity._m.removeClass("on",e[h]);Vcity._m.addClass("on",e[this.count]);break;case 38:for(this.count--,this.count<0&&(this.count=n-1),h=0;h<n;h++)Vcity._m.removeClass("on",e[h]);Vcity._m.addClass("on",e[this.count]);break;case 13:this.input.value=Vcity.regExChiese.exec(e[this.count].innerHTML)[0],Vcity._m.addClass("hide",this.ul),Vcity._m.addClass("hide",this.ul),Vcity._m.addClass("hide",this.myIframe)}},liEvent:function(){for(var i=this,t=Vcity._m.$("li",this.ul),e=0,n=t.length;e<n;e++)Vcity._m.on(t[e],"click",function(t){t=Vcity._m.getEvent(t);var e=Vcity._m.getTarget(t);i.input.value=Vcity.regExChiese.exec(e.innerHTML)[0],Vcity._m.addClass("hide",i.ul),Vcity._m.addClass("hide",i.myIframe)}),Vcity._m.on(t[e],"mouseover",function(i){i=Vcity._m.getEvent(i);var t=Vcity._m.getTarget(i);Vcity._m.addClass("on",t)}),Vcity._m.on(t[e],"mouseout",function(i){i=Vcity._m.getEvent(i);var t=Vcity._m.getTarget(i);Vcity._m.removeClass("on",t)})}};