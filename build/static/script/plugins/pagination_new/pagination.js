/**
 * @author 
 * @email 
 * @descrip guojunqidai
 * @version v1.0.0
 */
!function(a,$){function e(a){throw new Error("Pagination: "+a)}function t(a){a.dataSource||e('"dataSource" is required.'),"string"==typeof a.dataSource?"undefined"==typeof a.totalNumber?e('"totalNumber" is required.'):$.isNumeric(a.totalNumber)||e('"totalNumber" is incorrect. (Number)'):l.isObject(a.dataSource)&&("undefined"==typeof a.locator?e('"dataSource" is an Object, please specify "locator".'):"string"==typeof a.locator||$.isFunction(a.locator)||e(""+a.locator+" is incorrect. (String | Function)"))}function i(a){var e=["go","previous","next","disable","enable","refresh","show","hide","destroy"];$.each(e,function(e,t){a.off(s+t)}),a.data("pagination",{}),$(".paginationjs",a).remove()}function o(a,e){return("object"==(e=typeof a)?null==a&&"null"||Object.prototype.toString.call(a).slice(8,-1):e).toLowerCase()}"undefined"==typeof $&&e("Pagination requires jQuery.");var n="pagination",r="addHook",s="__pagination-";$.fn.pagination&&(n="pagination2"),$.fn[n]=function(o){if("undefined"==typeof o)return this;var n=$(this),r={initialize:function(){var a=this;if(n.data("pagination")||n.data("pagination",{}),a.callHook("beforeInit")!==!1){n.data("pagination").initialized&&$(".paginationjs",n).remove(),a.disabled=!!u.disabled;var e=a.model={pageRange:u.pageRange,pageSize:u.pageSize};a.parseDataSource(u.dataSource,function(t){if(a.sync=l.isArray(t),a.sync&&(e.totalNumber=u.totalNumber=t.length),e.totalPage=a.getTotalPage(),!(u.hideWhenLessThanOnePage&&e.totalPage<=1)){var i=a.render(!0);u.className&&i.addClass(u.className),e.el=i,n["bottom"===u.position?"append":"prepend"](i),a.observer(),n.data("pagination").initialized=!0,a.callHook("afterInit",i)}})}},render:function(a){var e=this,t=e.model,i=t.el||$('<div class="paginationjs"></div>'),o=a!==!0;e.callHook("beforeRender",o);var n=t.pageNumber||u.pageNumber,r=u.pageRange,s=t.totalPage,l=n-r,c=n+r;return c>s&&(c=s,l=s-2*r,l=l<1?1:l),l<=1&&(l=1,c=Math.min(2*r+1,s)),i.html(e.createTemplate({currentPage:n,pageRange:r,totalPage:s,rangeStart:l,rangeEnd:c})),e.callHook("afterRender",o),i},createTemplate:function(a){var e,t,i=this,o=a.currentPage,n=a.totalPage,r=a.rangeStart,s=a.rangeEnd,l=u.totalNumber,c=u.showPrevious,g=u.showNext,p=u.showPageNumbers,d=u.showNavigator,f=u.showGoInput,m=u.showGoButton,h=u.pageLink,b=u.prevText,v=u.nextText,y=u.ellipsisText,N=u.goButtonText,k=u.classPrefix,P=u.activeClassName,x=u.disableClassName,j=u.ulClassName,w=$.isFunction(u.formatNavigator)?u.formatNavigator():u.formatNavigator,S=$.isFunction(u.formatGoInput)?u.formatGoInput():u.formatGoInput,H=$.isFunction(u.formatGoButton)?u.formatGoButton():u.formatGoButton,C=$.isFunction(u.autoHidePrevious)?u.autoHidePrevious():u.autoHidePrevious,O=$.isFunction(u.autoHideNext)?u.autoHideNext():u.autoHideNext,F=$.isFunction(u.header)?u.header():u.header,T=$.isFunction(u.footer)?u.footer():u.footer,J="",G='<input type="text" class="J-paginationjs-go-pagenumber">',I='<input type="button" class="J-paginationjs-go-button" value="'+N+'">';if(F&&(e=i.replaceVariables(F,{currentPage:o,totalPage:n,totalNumber:l}),J+=e),c||p||g){if(J+='<div class="paginationjs-pages">',J+=j?'<ul class="'+j+'">':"<ul>",c&&(1===o?C||(J+='<li class="'+k+"-prev "+x+'"><a>'+b+"</a></li>"):J+='<li class="'+k+'-prev J-paginationjs-previous" data-num="'+(o-1)+'" title="Previous page"><a href="'+h+'">'+b+"</a></li>"),p){if(r<=3)for(t=1;t<r;t++)J+=t==o?'<li class="'+k+"-page J-paginationjs-page "+P+'" data-num="'+t+'"><a>'+t+"</a></li>":'<li class="'+k+'-page J-paginationjs-page" data-num="'+t+'"><a href="'+h+'">'+t+"</a></li>";else u.showFirstOnEllipsisShow&&(J+='<li class="'+k+"-page "+k+'-first J-paginationjs-page" data-num="1"><a href="'+h+'">1</a></li>'),J+='<li class="'+k+"-ellipsis "+x+'"><a>'+y+"</a></li>";for(t=r;t<=s;t++)J+=t==o?'<li class="'+k+"-page J-paginationjs-page "+P+'" data-num="'+t+'"><a>'+t+"</a></li>":'<li class="'+k+'-page J-paginationjs-page" data-num="'+t+'"><a href="'+h+'">'+t+"</a></li>";if(s>=n-2)for(t=s+1;t<=n;t++)J+='<li class="'+k+'-page J-paginationjs-page" data-num="'+t+'"><a href="'+h+'">'+t+"</a></li>";else J+='<li class="'+k+"-ellipsis "+x+'"><a>'+y+"</a></li>",u.showLastOnEllipsisShow&&(J+='<li class="'+k+"-page "+k+'-last J-paginationjs-page" data-num="'+n+'"><a href="'+h+'">'+n+"</a></li>")}g&&(o==n?O||(J+='<li class="'+k+"-next "+x+'"><a>'+v+"</a></li>"):J+='<li class="'+k+'-next J-paginationjs-next" data-num="'+(o+1)+'" title="Next page"><a href="'+h+'">'+v+"</a></li>"),J+="</ul></div>"}return d&&w&&(e=i.replaceVariables(w,{currentPage:o,totalPage:n,totalNumber:l}),J+='<div class="'+k+'-nav J-paginationjs-nav">'+e+"</div>"),f&&S&&(e=i.replaceVariables(S,{currentPage:o,totalPage:n,totalNumber:l,input:G}),J+='<div class="'+k+'-go-input">'+e+"</div>"),m&&H&&(e=i.replaceVariables(H,{currentPage:o,totalPage:n,totalNumber:l,button:I}),J+='<div class="'+k+'-go-button">'+e+"</div>"),T&&(e=i.replaceVariables(T,{currentPage:o,totalPage:n,totalNumber:l}),J+=e),J},go:function(a,e){function t(a){if(i.callHook("beforePaging",r)===!1)return!1;if(o.direction="undefined"==typeof o.pageNumber?0:r>o.pageNumber?1:-1,o.pageNumber=r,i.render(),i.disabled&&!i.sync&&i.enable(),n.data("pagination").model=o,$.isFunction(u.formatResult)){var t=$.extend(!0,[],a);l.isArray(a=u.formatResult(t))||(a=t)}n.data("pagination").currentPageData=a,i.doCallback(a,e),i.callHook("afterPaging",r),1==r&&i.callHook("afterIsFirstPage"),r==o.totalPage&&i.callHook("afterIsLastPage")}var i=this,o=i.model;if(!i.disabled){var r=a,s=u.pageSize,c=o.totalPage;if(r=parseInt(r),!(!r||r<1||r>c)){if(i.sync)return void t(i.getDataSegment(r));var g={},p=u.alias||{};g[p.pageSize?p.pageSize:"pageSize"]=s,g[p.pageNumber?p.pageNumber:"pageNumber"]=r;var d={type:"get",cache:!1,data:{},contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",async:!0};$.extend(!0,d,u.ajax),$.extend(d.data||{},g),d.url=u.dataSource,d.success=function(a){t(i.filterDataByLocator(a))},d.error=function(a,e,t){u.formatAjaxError&&u.formatAjaxError(a,e,t),i.enable()},i.disable(),$.ajax(d)}}},doCallback:function(a,e){var t=this,i=t.model;$.isFunction(e)?e(a,i):$.isFunction(u.callback)&&u.callback(a,i)},destroy:function(){this.callHook("beforeDestroy")!==!1&&(this.model.el.remove(),n.off(),$("#paginationjs-style").remove(),this.callHook("afterDestroy"))},previous:function(a){this.go(this.model.pageNumber-1,a)},next:function(a){this.go(this.model.pageNumber+1,a)},disable:function(){var a=this,e=a.sync?"sync":"async";a.callHook("beforeDisable",e)!==!1&&(a.disabled=!0,a.model.disabled=!0,a.callHook("afterDisable",e))},enable:function(){var a=this,e=a.sync?"sync":"async";a.callHook("beforeEnable",e)!==!1&&(a.disabled=!1,a.model.disabled=!1,a.callHook("afterEnable",e))},refresh:function(a){this.go(this.model.pageNumber,a)},show:function(){var a=this;a.model.el.is(":visible")||a.model.el.show()},hide:function(){var a=this;a.model.el.is(":visible")&&a.model.el.hide()},replaceVariables:function(a,e){var t;for(var i in e){var o=e[i],n=new RegExp("<%=\\s*"+i+"\\s*%>","img");t=(t||a).replace(n,o)}return t},getDataSegment:function(a){var e=u.pageSize,t=u.dataSource,i=u.totalNumber,o=e*(a-1)+1,n=Math.min(a*e,i);return t.slice(o-1,n)},getTotalPage:function(){return Math.ceil(u.totalNumber/u.pageSize)},getLocator:function(a){var t;return"string"==typeof a?t=a:$.isFunction(a)?t=a():e('"locator" is incorrect. (String | Function)'),t},filterDataByLocator:function(a){var t,i=this.getLocator(u.locator);if(l.isObject(a)){try{$.each(i.split("."),function(e,i){t=(t?t:a)[i]})}catch(a){}t?l.isArray(t)||e("dataSource."+i+" must be an Array."):e("dataSource."+i+" is undefined.")}return t||a},parseDataSource:function(a,t){var i=this,o=arguments;l.isObject(a)?t(u.dataSource=i.filterDataByLocator(a)):l.isArray(a)?t(u.dataSource=a):$.isFunction(a)?u.dataSource(function(a){$.isFunction(a)&&e('Unexpect parameter of the "done" Function.'),o.callee.call(i,a,t)}):"string"==typeof a?(/^https?|file:/.test(a)&&(u.ajaxDataType="jsonp"),t(a)):e('Unexpect data type of the "dataSource".')},callHook:function(e){var t,i=n.data("pagination"),o=Array.prototype.slice.apply(arguments);return o.shift(),u[e]&&$.isFunction(u[e])&&u[e].apply(a,o)===!1&&(t=!1),i.hooks&&i.hooks[e]&&$.each(i.hooks[e],function(e,i){i.apply(a,o)===!1&&(t=!1)}),t!==!1},observer:function(){var a=this,t=a.model.el;n.on(s+"go",function(t,i,o){i=parseInt($.trim(i)),i&&($.isNumeric(i)||e('"pageNumber" is incorrect. (Number)'),a.go(i,o))}),t.delegate(".J-paginationjs-page","click",function(e){var t=$(e.currentTarget),i=$.trim(t.attr("data-num"));if(i&&!t.hasClass(u.disableClassName)&&!t.hasClass(u.activeClassName))return a.callHook("beforePageOnClick",e,i)!==!1&&(a.go(i),a.callHook("afterPageOnClick",e,i),!!u.pageLink&&void 0)}),t.delegate(".J-paginationjs-previous","click",function(e){var t=$(e.currentTarget),i=$.trim(t.attr("data-num"));if(i&&!t.hasClass(u.disableClassName))return a.callHook("beforePreviousOnClick",e,i)!==!1&&(a.go(i),a.callHook("afterPreviousOnClick",e,i),!!u.pageLink&&void 0)}),t.delegate(".J-paginationjs-next","click",function(e){var t=$(e.currentTarget),i=$.trim(t.attr("data-num"));if(i&&!t.hasClass(u.disableClassName))return a.callHook("beforeNextOnClick",e,i)!==!1&&(a.go(i),a.callHook("afterNextOnClick",e,i),!!u.pageLink&&void 0)}),t.delegate(".J-paginationjs-go-button","click",function(){var e=$(".J-paginationjs-go-pagenumber",t).val();return a.callHook("beforeGoButtonOnClick",event,e)!==!1&&(n.trigger(s+"go",e),void a.callHook("afterGoButtonOnClick",event,e))}),t.delegate(".J-paginationjs-go-pagenumber","keyup",function(e){if(13===e.which){var i=$(e.currentTarget).val();if(a.callHook("beforeGoInputOnEnter",e,i)===!1)return!1;n.trigger(s+"go",i),$(".J-paginationjs-go-pagenumber",t).focus(),a.callHook("afterGoInputOnEnter",e,i)}}),n.on(s+"previous",function(e,t){a.previous(t)}),n.on(s+"next",function(e,t){a.next(t)}),n.on(s+"disable",function(){a.disable()}),n.on(s+"enable",function(){a.enable()}),n.on(s+"refresh",function(e,t){a.refresh(t)}),n.on(s+"show",function(){a.show()}),n.on(s+"hide",function(){a.hide()}),n.on(s+"destroy",function(){a.destroy()}),u.triggerPagingOnInit&&n.trigger(s+"go",Math.min(u.pageNumber,a.model.totalPage))}};if(n.data("pagination")&&n.data("pagination").initialized===!0){if($.isNumeric(o))return n.trigger.call(this,s+"go",o,arguments[1]),this;if("string"==typeof o){var c=Array.prototype.slice.apply(arguments);switch(c[0]=s+c[0],o){case"previous":case"next":case"go":case"disable":case"enable":case"refresh":case"show":case"hide":case"destroy":n.trigger.apply(this,c);break;case"getSelectedPageNum":return n.data("pagination").model?n.data("pagination").model.pageNumber:n.data("pagination").attributes.pageNumber;case"getTotalPage":return n.data("pagination").model.totalPage;case"getSelectedPageData":return n.data("pagination").currentPageData;case"isDisabled":return n.data("pagination").model.disabled===!0;default:e("Pagination do not provide action: "+o)}return this}i(n)}else l.isObject(o)||e("Illegal options");var u=$.extend({},arguments.callee.defaults,o);return t(u),r.initialize(),this},$.fn[n].defaults={totalNumber:1,pageNumber:1,pageSize:10,pageRange:2,showPrevious:!0,showNext:!0,showPageNumbers:!0,showNavigator:!1,showGoInput:!1,showGoButton:!1,pageLink:"",prevText:"&laquo;",nextText:"&raquo;",ellipsisText:"...",goButtonText:"Go",classPrefix:"paginationjs",activeClassName:"active",disableClassName:"disabled",inlineStyle:!0,formatNavigator:"<%= currentPage %> / <%= totalPage %>",formatGoInput:"<%= input %>",formatGoButton:"<%= button %>",position:"bottom",autoHidePrevious:!1,autoHideNext:!1,triggerPagingOnInit:!0,hideWhenLessThanOnePage:!1,showFirstOnEllipsisShow:!0,showLastOnEllipsisShow:!0,callback:function(){}},$.fn[r]=function(a,t){arguments.length<2&&e("Missing argument."),$.isFunction(t)||e("callback must be a function.");var i=$(this),o=i.data("pagination");o||(i.data("pagination",{}),o=i.data("pagination")),!o.hooks&&(o.hooks={}),o.hooks[a]=o.hooks[a]||[],o.hooks[a].push(t)},$[n]=function(a,t){arguments.length<2&&e("Requires two parameters.");var i;if(i="string"!=typeof a&&a instanceof jQuery?a:$(a),i.length)return i.pagination(t),i};var l={};$.each(["Object","Array"],function(a,e){l["is"+e]=function(a){return o(a)===e.toLowerCase()}}),"function"==typeof define&&define.amd&&define(function(){return $})}(this,window.jQuery);